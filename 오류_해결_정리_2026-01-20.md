# 지역경제동향 리포트 오류 해결 Q&A 및 결과 정리 (2026-01-20)

## 1. 오류 개요
- **문제1:** "전국 데이터를 찾을 수 없습니다" 등 데이터 추출 오류
- **문제2:** Jinja2 템플릿 렌더링 오류 (unknown tag 'endif')

---

## 2. 단계별 Q&A 및 해결 과정

### Q1. 데이터 추출 오류의 원인은?
- **A:** config의 region_name_col 값이 누락되었거나 실제 엑셀 컬럼과 불일치하여, 각 지표별로 지역명 컬럼을 찾지 못함

### Q2. 각 지표별 region_name_col 값은 어떻게 결정하나요?
- **A:** 실제 엑셀 시트에서 지역명이 위치한 열(0-based 인덱스)로 지정해야 함
	- 예시: 광공업생산(E열=4), 서비스업생산(C열=2), 소비동향(B열=1), 건설동향(A열=0), 수출(C열=2), 수입(C열=2), 물가동향(A열=0), 국내인구이동(D열=3)

### Q3. Jinja2 템플릿 오류의 원인은?
- **A:** regional_economy_by_region_template.html에서 if 블록 없이 endif가 존재하거나, 불필요한 태그/중첩 구조가 있었음

### Q4. 템플릿 오류는 어떻게 수정했나요?
- **A:** 불필요한 {% endif %} 태그를 삭제하고, HTML 구조를 정리함

---

## 3. 최종 조치 요약
- [x] config/report_configs.py 등에서 각 지표별 region_name_col을 실제 컬럼 인덱스로 명시
- [x] regional_economy_by_region_template.html의 잘못된 endif 제거
- [ ] (선택) 추가 테스트 및 결과 확인

---

## 4. 참고 사항
- region_name_col은 0부터 시작하는 인덱스이므로, 실제 엑셀에서 해당 열을 확인 후 지정
- Jinja2 템플릿의 if/endif 쌍 항상 확인 필요

---

## 5. 담당자 체크리스트
- [x] 데이터 추출 정상 동작 확인
- [x] 템플릿 렌더링 정상 동작 확인
- [ ] 전체 리포트 생성 및 결과물 검토

---

_이 문서는 capstone 리포트 자동화 시스템의 오류 해결 과정을 기록한 문서입니다._
