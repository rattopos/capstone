# Cursor AI 작업 규칙

## 1. .cursorrules 수정 규칙
- `.cursorrules` 파일을 수정할 때는 반드시 사용자의 동의를 얻을 것
- 수정 전 변경 사항을 명확히 설명하고 승인을 받은 후에만 수정 진행

## 2. 파일 수정 범위 제한
- 현재 하고 있는 작업과 직접 관련된 파일만 수정할 것
- 불필요한 리팩토링이나 관련 없는 파일 수정 금지
- 수정 대상 파일이 불명확한 경우 사용자에게 확인 요청

## 3. 기존 코드 보존
- 정상 동작하고 있는 부분은 가급적 건드리지 말 것
- 버그 수정이나 기능 추가 시 최소한의 변경만 적용
- 기존 로직 변경이 필요한 경우 사전에 사용자에게 설명 및 동의 구함

## 4. 출력용 HTML 파일 생성 규칙
- 출력용 HTML 파일을 만들 때는 mermaid 등으로 그려진 다이어그램을 그림 파일로 변환해서 만든다
- mermaid 다이어그램을 PNG/SVG 이미지로 변환하여 HTML에 포함시킨다
- 다이어그램이 포함된 마크다운을 HTML로 변환할 때는 mermaid 렌더링을 이미지로 처리한다
- 출력용 HTML을 요구할 때는 실제 A4 사이즈에 맞게 조정해서 생성한다
  - 문단이나 그림, 표가 한 페이지에 온전히 들어가야 한다
  - 섹션이 바뀐다고 강제로 페이지가 바뀔 필요는 없다
  - 쓸데없이 대부분이 빈 페이지가 출력되지 않도록 구성을 치밀하게 한다
  - 여백은 최소한으로 한다
  - 페이지 넘김은 양면, 좌철 넘김을 기본으로 한다

## 5. 디버그 로그 업데이트 규칙
- 디버그 작업을 수행할 때마다 `docs/DEBUG_LOG.md` 파일을 반드시 업데이트할 것
- 버그를 발견하거나 수정할 때 다음 정보를 기록:
  - 날짜/시간
  - 문제 설명
  - 원인 분석
  - **에이전트 사고 과정** (중요):
    - 문제를 어떻게 인식했는지
    - 고려한 해결책들과 각각의 장단점
    - 선택한 접근 방법과 그 이유
    - 시도한 방법들과 각각의 결과
    - 실패한 시도가 있다면 그 원인
    - 최종 결정에 이르기까지의 추론 과정
  - 해결 방법
  - 관련 파일 목록
  - 작업 상태 (진행중/완료/실패/보류)
  - 참고 사항
- 디버그 작업이 완료되면 통계 섹션도 함께 업데이트할 것
- 로그는 시간순으로 정렬하여 최신 항목이 위에 오도록 할 것
- 사고 과정은 가능한 한 상세하게 기록하여 향후 유사한 문제 해결에 참고할 수 있도록 할 것

## 6. 버그 수정 전 디버그 로그 확인 규칙
- 버그 수정 작업을 시작하기 전에 반드시 `docs/DEBUG_LOG.md` 파일을 먼저 확인할 것
- 유사한 문제가 이전에 해결된 적이 있는지 확인
- 기존 해결책을 참고하여 일관된 방식으로 문제 해결
- 새로운 버그 수정 시에도 동일한 로그 형식으로 기록할 것

