<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>프로젝트 개발 지연 원인 분석</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;500;700&display=swap');
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Noto Sans KR', sans-serif;
            font-size: 11pt;
            line-height: 1.5;
            color: #000;
            background: #fff;
            padding: 15mm;
        }
        
        @media print {
            body {
                padding: 0;
            }
            .page-break {
                page-break-before: always;
            }
        }
        
        h1 {
            font-size: 18pt;
            font-weight: 700;
            text-align: center;
            border-bottom: 3px solid #000;
            padding-bottom: 10px;
            margin-bottom: 20px;
        }
        
        h2 {
            font-size: 14pt;
            font-weight: 700;
            background: #e0e0e0;
            padding: 6px 10px;
            margin: 20px 0 12px 0;
            border-left: 5px solid #333;
        }
        
        h3 {
            font-size: 12pt;
            font-weight: 700;
            margin: 15px 0 8px 0;
            padding-left: 10px;
            border-left: 3px solid #666;
        }
        
        .summary-box {
            border: 2px solid #333;
            padding: 15px;
            margin: 15px 0;
            background: #f5f5f5;
        }
        
        .summary-box table {
            width: 100%;
        }
        
        .summary-box td {
            padding: 4px 8px;
        }
        
        .summary-box td:first-child {
            font-weight: 700;
            width: 40%;
        }
        
        table.data-table {
            width: 100%;
            border-collapse: collapse;
            margin: 10px 0;
            font-size: 10pt;
        }
        
        table.data-table th,
        table.data-table td {
            border: 1px solid #333;
            padding: 6px 8px;
            text-align: left;
        }
        
        table.data-table th {
            background: #d0d0d0;
            font-weight: 700;
        }
        
        table.data-table tr:nth-child(even) {
            background: #f0f0f0;
        }
        
        .highlight-row {
            background: #c0c0c0 !important;
            font-weight: 700;
        }
        
        .issue-card {
            border: 1px solid #666;
            margin: 10px 0;
            padding: 12px;
            background: #fafafa;
        }
        
        .issue-card h4 {
            font-size: 11pt;
            font-weight: 700;
            margin-bottom: 8px;
            padding-bottom: 5px;
            border-bottom: 1px dashed #999;
        }
        
        .issue-card .problem {
            margin: 5px 0;
        }
        
        .issue-card .time {
            text-align: right;
            font-weight: 700;
            margin-top: 8px;
            padding-top: 5px;
            border-top: 1px solid #ccc;
        }
        
        ul {
            margin-left: 20px;
            margin-bottom: 10px;
        }
        
        li {
            margin: 3px 0;
        }
        
        .critical {
            border: 2px solid #000 !important;
            background: #e8e8e8 !important;
        }
        
        .critical h4::before {
            content: "★ ";
        }
        
        .lesson-box {
            border: 2px dashed #666;
            padding: 12px;
            margin: 10px 0;
            background: #f8f8f8;
        }
        
        .lesson-box strong {
            display: block;
            margin-bottom: 5px;
        }
        
        .footer {
            text-align: center;
            margin-top: 30px;
            padding-top: 15px;
            border-top: 2px solid #333;
            font-size: 10pt;
            color: #666;
        }
        
        .two-column {
            display: flex;
            gap: 15px;
        }
        
        .two-column > div {
            flex: 1;
        }
        
        .quick-answer {
            background: #e0e0e0;
            padding: 10px;
            margin: 10px 0;
            border-left: 5px solid #000;
        }
        
        .quick-answer strong {
            font-size: 12pt;
        }
    </style>
</head>
<body>

<h1>📋 프로젝트 개발 지연 원인 분석 보고서</h1>

<div class="summary-box">
    <table>
        <tr><td>프로젝트명</td><td>지역경제동향 보고서 자동 생성 시스템</td></tr>
        <tr><td>개발 기간</td><td>2025.12.11 ~ 12.30 (약 20일)</td></tr>
        <tr><td>총 커밋 수</td><td>147개 (버그 수정 26개, Revert 4개)</td></tr>
    </table>
</div>

<div class="quick-answer">
    <strong>💬 "왜 이렇게 오래 걸렸나요?"에 대한 핵심 답변</strong>
    <ol>
        <li>엑셀 데이터 구조가 예상과 달랐고 분기마다 변동됨 (3~4일)</li>
        <li>개발 중간에 아키텍처를 전면 전환함 (3일)</li>
        <li><strong>★ 파일 업로드 버그 원인을 뒤늦게 발견함 (2~3일)</strong></li>
        <li>요약 페이지 등 복잡한 데이터 추출 로직 필요 (2일)</li>
        <li>출력 포맷 여러 번 변경 (HWPX → DOCX → HTML) (2일)</li>
    </ol>
</div>

<h2>🗓️ 날짜별 커밋 분포</h2>

<table class="data-table">
    <tr><th>날짜</th><th>커밋</th><th>비고</th></tr>
    <tr><td>12/11~12</td><td>4개</td><td>초기 설정</td></tr>
    <tr><td>12/15~16</td><td>17개</td><td>알파 버전 & 웹 앱</td></tr>
    <tr class="highlight-row"><td>12/17</td><td>30개</td><td>★ 가장 많음 - 문제 다수 발생</td></tr>
    <tr><td>12/18</td><td>9개</td><td>버그 수정 집중</td></tr>
    <tr><td>12/21~23</td><td>28개</td><td>스키마 전환, 고용률/실업률</td></tr>
    <tr class="highlight-row"><td>12/25</td><td>24개</td><td>★ 대규모 리팩토링</td></tr>
    <tr><td>12/26~28</td><td>5개</td><td>영문화</td></tr>
    <tr class="highlight-row"><td>12/29</td><td>22개</td><td>★ 요약/통계표 버그 다수</td></tr>
    <tr><td>12/30</td><td>8개</td><td>마무리</td></tr>
</table>

<h2>🔴 주요 지연 원인 (9가지)</h2>

<div class="two-column">
<div>

<div class="issue-card">
    <h4>1. 엑셀 데이터 구조 복잡성</h4>
    <div class="problem">
        • 시트명 불일치 (고용률 → D(고용률)분석 등)<br>
        • 분기마다 열/행 위치 변동<br>
        • 결측치 표현 다양 (빈 셀, 0, "-", "비공개")
    </div>
    <div class="time">소요: 3~4일</div>
</div>

<div class="issue-card">
    <h4>2. 템플릿 변수 바인딩 불일치</h4>
    <div class="problem">
        • Python 백엔드 ↔ Jinja2 템플릿 변수명 불일치<br>
        • 보고서마다 다른 키 이름 사용
    </div>
    <div class="time">소요: 1일</div>
</div>

<div class="issue-card">
    <h4>3. 요약 페이지 데이터 추출 오류</h4>
    <div class="problem">
        • 여러 시트 데이터 조합 필요<br>
        • 데이터가 0으로 표시되는 문제
    </div>
    <div class="time">소요: 2일</div>
</div>

<div class="issue-card">
    <h4>4. 가중치/순위 계산 문제</h4>
    <div class="problem">
        • 비공개(0) 가중치 처리<br>
        • 실업률 등 역방향 지표 정렬
    </div>
    <div class="time">소요: 2일</div>
</div>

</div>
<div>

<div class="issue-card">
    <h4>5. 아키텍처 전환</h4>
    <div class="problem">
        • 하드코딩 → 스키마 기반 전환<br>
        • 위치 기반 → 의미 기반 마커<br>
        • app.py → routes/services/utils 분리
    </div>
    <div class="time">소요: 3일</div>
</div>

<div class="issue-card">
    <h4>6. 차트 및 시각화 문제</h4>
    <div class="problem">
        • 막대+점 복합 차트 구현<br>
        • Y축 범위 동적 설정
    </div>
    <div class="time">소요: 1일</div>
</div>

<div class="issue-card">
    <h4>7. 출력 포맷 변경</h4>
    <div class="problem">
        • HWPX → DOCX → HTML 복붙 방식으로 전략 변경
    </div>
    <div class="time">소요: 2일</div>
</div>

<div class="issue-card">
    <h4>8. 결측치 표시 및 검토 기능</h4>
    <div class="problem">
        • 노란색 하이라이트 표시<br>
        • 검토 완료 시 하이라이트 제거
    </div>
    <div class="time">소요: 2일</div>
</div>

</div>
</div>

<div class="issue-card critical">
    <h4>9. 파일 업로드 버그 - 원인 파악 지연 (가장 큰 교훈)</h4>
    <div class="problem">
        <strong>증상:</strong> 파일 업로드 후 보고서가 비어있는 상태로 생성<br><br>
        <strong>잘못된 추적:</strong> 템플릿, 데이터 추출 로직, 엑셀 파싱 문제로 오인 → 시간 낭비<br><br>
        <strong>실제 원인:</strong> 파일 경로 불일치, 세션 상태 유실 (기본적인 문제)<br><br>
        <strong>왜 늦게 발견?</strong>
        <ul>
            <li>에러 메시지 없이 빈 데이터만 반환</li>
            <li>일부 보고서는 캐시로 정상 동작 → 혼란</li>
            <li>파이프라인이 길어서 문제 지점 파악 어려움</li>
            <li>상세 로그 부족</li>
        </ul>
    </div>
    <div class="time">소요: 2~3일 (수정은 몇 줄)</div>
</div>

<h2>📊 총 지연 시간 추정</h2>

<table class="data-table">
    <tr><th>원인</th><th>소요 시간</th></tr>
    <tr><td>엑셀 구조 파악 및 수정</td><td>3~4일</td></tr>
    <tr><td>아키텍처 전환</td><td>3일</td></tr>
    <tr class="highlight-row"><td>★ 파일 업로드 문제 원인 파악 지연</td><td>2~3일</td></tr>
    <tr><td>요약 페이지 데이터 추출</td><td>2일</td></tr>
    <tr><td>가중치/순위 계산</td><td>2일</td></tr>
    <tr><td>결측치 처리</td><td>2일</td></tr>
    <tr><td>출력 포맷 변경</td><td>2일</td></tr>
    <tr><td>템플릿 변수 수정</td><td>1일</td></tr>
    <tr><td>차트 문제</td><td>1일</td></tr>
    <tr class="highlight-row"><td><strong>합계</strong></td><td><strong>약 18~20일</strong></td></tr>
</table>

<h2>🎯 교훈 및 개선 방안</h2>

<div class="lesson-box">
    <strong>1. 사전 데이터 분석</strong>
    엑셀 파일 구조를 사전에 충분히 분석하고 의뢰 기관과 확인
</div>

<div class="lesson-box">
    <strong>2. 프로토타입 우선</strong>
    작은 범위로 프로토타입 구현 후 검증, 그 다음 확장
</div>

<div class="lesson-box">
    <strong>3. 인터페이스 계약</strong>
    템플릿 변수명과 백엔드 데이터 키를 스키마로 먼저 정의
</div>

<div class="lesson-box">
    <strong>4. 단위 테스트</strong>
    핵심 데이터 추출 함수에 대한 단위 테스트 작성
</div>

<div class="lesson-box critical">
    <strong>★ 5. 기본부터 확인하기 (가장 중요)</strong>
    디버깅 시 복잡한 로직을 먼저 의심하지 말고, <strong>파일 존재 여부, 경로 확인</strong> 등 기본적인 것부터 확인!<br>
    → "복잡한 곳에 문제가 있을 것"이라는 선입견 버리기
</div>

<h2>🔄 Revert/롤백 히스토리</h2>

<table class="data-table">
    <tr><th>내용</th><th>원인</th></tr>
    <tr><td>고용률 템플릿 마커 시트명 원복</td><td>시트명이 "고용"이 아니라 "고용률"</td></tr>
    <tr><td>증가/감소 판단 모듈 복원</td><td>리팩토링 중 필요한 모듈 삭제</td></tr>
    <tr><td>정답 이미지 복원 (2회)</td><td>실수로 삭제</td></tr>
</table>

<div class="footer">
    Git 커밋 로그 기반 분석 | 작성일: 2025년 12월 30일<br>
    지역경제동향 보고서 자동 생성 시스템 - 캡스톤 프로젝트
</div>

</body>
</html>

