<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>서울특별시 주요지표</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Malgun Gothic', '맑은 고딕', 'Apple SD Gothic Neo', sans-serif;
            line-height: 1.4;
            color: #000;
            background-color: #fff;
            padding: 20px 30px;
            max-width: 1200px;
            margin: 0 auto;
            font-size: 12px;
        }
        
        .document-title {
            font-size: 18px;
            font-weight: bold;
            margin-bottom: 20px;
            color: #000;
            line-height: 1.4;
            text-align: center;
        }
        
        .charts-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 20px;
            margin-bottom: 25px;
        }
        
        .chart-box {
            border: none;
            padding: 10px;
        }
        
        .chart-header {
            display: flex;
            justify-content: space-between;
            align-items: baseline;
            margin-bottom: 5px;
        }
        
        .chart-title {
            font-size: 14px;
            font-weight: bold;
            color: #000;
        }
        
        .chart-subtitle {
            font-size: 10px;
            color: #666;
        }
        
        .chart-legend {
            display: flex;
            justify-content: flex-start;
            gap: 15px;
            margin-bottom: 5px;
            font-size: 10px;
        }
        
        .legend-item {
            display: flex;
            align-items: center;
            gap: 4px;
        }
        
        .legend-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
        }
        
        .legend-dot.nationwide {
            background-color: #999;
        }
        
        .legend-dot.seoul {
            background-color: #1a56db;
        }
        
        .chart-unit {
            font-size: 9px;
            color: #666;
            margin-bottom: 3px;
        }
        
        .chart-container {
            position: relative;
            height: 140px;
            width: 100%;
        }
        
        .table-section {
            margin-top: 20px;
        }
        
        .table-header {
            display: flex;
            justify-content: space-between;
            align-items: baseline;
            margin-bottom: 8px;
        }
        
        .table-title {
            font-size: 14px;
            font-weight: bold;
            color: #000;
        }
        
        .table-subtitle {
            font-size: 10px;
            color: #000;
            text-align: right;
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 0 0 15px 0;
            font-size: 10px;
            border: 1px solid #000;
        }
        
        th, td {
            padding: 5px 3px;
            text-align: center;
            border: 1px solid #000;
            font-size: 9px;
        }
        
        th {
            background-color: #f5f5f5;
            font-weight: bold;
        }
        
        .indicator-name {
            text-align: left;
            padding-left: 8px;
            font-weight: normal;
            letter-spacing: 2px;
        }
        
        .footnote {
            font-size: 9px;
            margin-top: 10px;
            color: #666;
            line-height: 1.4;
        }
    </style>
</head>
<body>
    <div class="document-title">《 서울특별시 주요지표 》</div>
    
    <div class="charts-grid">
        <!-- 1. 광공업생산 -->
        <div class="chart-box">
            <div class="chart-header">
                <span class="chart-title">광공업생산</span>
                <span class="chart-subtitle">[전년동분기대비 증감률]</span>
            </div>
            <div class="chart-legend">
                <div class="legend-item">
                    <span class="legend-dot nationwide"></span>
                    <span>전국</span>
                </div>
                <div class="legend-item">
                    <span class="legend-dot seoul"></span>
                    <span>서울</span>
                </div>
            </div>
            <div class="chart-unit">(%)</div>
            <div class="chart-container">
                <canvas id="chart-manufacturing"></canvas>
            </div>
        </div>
        
        <!-- 2. 서비스업생산 -->
        <div class="chart-box">
            <div class="chart-header">
                <span class="chart-title">서비스업생산</span>
                <span class="chart-subtitle">[전년동분기대비 증감률]</span>
            </div>
            <div class="chart-legend">
                <div class="legend-item">
                    <span class="legend-dot nationwide"></span>
                    <span>전국</span>
                </div>
                <div class="legend-item">
                    <span class="legend-dot seoul"></span>
                    <span>서울</span>
                </div>
            </div>
            <div class="chart-unit">(%)</div>
            <div class="chart-container">
                <canvas id="chart-service"></canvas>
            </div>
        </div>
        
        <!-- 3. 소매판매 -->
        <div class="chart-box">
            <div class="chart-header">
                <span class="chart-title">소매판매</span>
                <span class="chart-subtitle">[전년동분기대비 증감률]</span>
            </div>
            <div class="chart-legend">
                <div class="legend-item">
                    <span class="legend-dot nationwide"></span>
                    <span>전국</span>
                </div>
                <div class="legend-item">
                    <span class="legend-dot seoul"></span>
                    <span>서울</span>
                </div>
            </div>
            <div class="chart-unit">(%)</div>
            <div class="chart-container">
                <canvas id="chart-retail"></canvas>
            </div>
        </div>
        
        <!-- 4. 수출 -->
        <div class="chart-box">
            <div class="chart-header">
                <span class="chart-title">수출</span>
                <span class="chart-subtitle">[전년동분기대비 증감률]</span>
            </div>
            <div class="chart-legend">
                <div class="legend-item">
                    <span class="legend-dot nationwide"></span>
                    <span>전국</span>
                </div>
                <div class="legend-item">
                    <span class="legend-dot seoul"></span>
                    <span>서울</span>
                </div>
            </div>
            <div class="chart-unit">(%)</div>
            <div class="chart-container">
                <canvas id="chart-export"></canvas>
            </div>
        </div>
        
        <!-- 5. 고용률 -->
        <div class="chart-box">
            <div class="chart-header">
                <span class="chart-title">고용률</span>
                <span class="chart-subtitle">[전년동분기대비 증감]</span>
            </div>
            <div class="chart-legend">
                <div class="legend-item">
                    <span class="legend-dot nationwide"></span>
                    <span>전국</span>
                </div>
                <div class="legend-item">
                    <span class="legend-dot seoul"></span>
                    <span>서울</span>
                </div>
            </div>
            <div class="chart-unit">(%p)</div>
            <div class="chart-container">
                <canvas id="chart-employment"></canvas>
            </div>
        </div>
        
        <!-- 6. 소비자물가 -->
        <div class="chart-box">
            <div class="chart-header">
                <span class="chart-title">소비자물가</span>
                <span class="chart-subtitle">[전년동분기대비 등락률]</span>
            </div>
            <div class="chart-legend">
                <div class="legend-item">
                    <span class="legend-dot nationwide"></span>
                    <span>전국</span>
                </div>
                <div class="legend-item">
                    <span class="legend-dot seoul"></span>
                    <span>서울</span>
                </div>
            </div>
            <div class="chart-unit">(%)</div>
            <div class="chart-container">
                <canvas id="chart-cpi"></canvas>
            </div>
        </div>
    </div>
    
    <!-- 주요지표 테이블 -->
    <div class="table-section">
        <div class="table-header">
            <span class="table-title">주 요 지 표</span>
            <span class="table-subtitle">[전년동분기대비, %, %p, 명]</span>
        </div>
        
        <table>
            <thead>
                <tr>
                    <th rowspan="2" style="width: 15%;">주 요 지 표</th>
                    <th colspan="2">2023</th>
                    <th colspan="4">2024</th>
                    <th colspan="2">2025</th>
                </tr>
                <tr>
                    <th>3/4</th>
                    <th>4/4</th>
                    <th>1/4</th>
                    <th>2/4</th>
                    <th>3/4</th>
                    <th>4/4</th>
                    <th>1/4</th>
                    <th>2/4</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td class="indicator-name">광공업생산지수</td>
                    <td>{광공업생산:서울_2023_3분기}</td>
                    <td>{광공업생산:서울_2023_4분기}</td>
                    <td>{광공업생산:서울_2024_1분기}</td>
                    <td>{광공업생산:서울_2024_2분기}</td>
                    <td>{광공업생산:서울_2024_3분기}</td>
                    <td>{광공업생산:서울_2024_4분기}</td>
                    <td>{광공업생산:서울_2025_1분기}</td>
                    <td>{광공업생산:서울_2025_2분기}</td>
                </tr>
                <tr>
                    <td class="indicator-name">서비스업생산지수</td>
                    <td>{서비스업생산:서울_2023_3분기}</td>
                    <td>{서비스업생산:서울_2023_4분기}</td>
                    <td>{서비스업생산:서울_2024_1분기}</td>
                    <td>{서비스업생산:서울_2024_2분기}</td>
                    <td>{서비스업생산:서울_2024_3분기}</td>
                    <td>{서비스업생산:서울_2024_4분기}</td>
                    <td>{서비스업생산:서울_2025_1분기}</td>
                    <td>{서비스업생산:서울_2025_2분기}</td>
                </tr>
                <tr>
                    <td class="indicator-name">소 매 판 매 지 수</td>
                    <td>{소비(소매, 추가):서울_2023_3분기}</td>
                    <td>{소비(소매, 추가):서울_2023_4분기}</td>
                    <td>{소비(소매, 추가):서울_2024_1분기}</td>
                    <td>{소비(소매, 추가):서울_2024_2분기}</td>
                    <td>{소비(소매, 추가):서울_2024_3분기}</td>
                    <td>{소비(소매, 추가):서울_2024_4분기}</td>
                    <td>{소비(소매, 추가):서울_2025_1분기}</td>
                    <td>{소비(소매, 추가):서울_2025_2분기}</td>
                </tr>
                <tr>
                    <td class="indicator-name">건 설 수 주</td>
                    <td>{건설 (공표자료):서울_2023_3분기}</td>
                    <td>{건설 (공표자료):서울_2023_4분기}</td>
                    <td>{건설 (공표자료):서울_2024_1분기}</td>
                    <td>{건설 (공표자료):서울_2024_2분기}</td>
                    <td>{건설 (공표자료):서울_2024_3분기}</td>
                    <td>{건설 (공표자료):서울_2024_4분기}</td>
                    <td>{건설 (공표자료):서울_2025_1분기}</td>
                    <td>{건설 (공표자료):서울_2025_2분기}</td>
                </tr>
                <tr>
                    <td class="indicator-name">수        출</td>
                    <td>{수출:서울_2023_3분기}</td>
                    <td>{수출:서울_2023_4분기}</td>
                    <td>{수출:서울_2024_1분기}</td>
                    <td>{수출:서울_2024_2분기}</td>
                    <td>{수출:서울_2024_3분기}</td>
                    <td>{수출:서울_2024_4분기}</td>
                    <td>{수출:서울_2025_1분기}</td>
                    <td>{수출:서울_2025_2분기}</td>
                </tr>
                <tr>
                    <td class="indicator-name">수        입</td>
                    <td>{수입:서울_2023_3분기}</td>
                    <td>{수입:서울_2023_4분기}</td>
                    <td>{수입:서울_2024_1분기}</td>
                    <td>{수입:서울_2024_2분기}</td>
                    <td>{수입:서울_2024_3분기}</td>
                    <td>{수입:서울_2024_4분기}</td>
                    <td>{수입:서울_2025_1분기}</td>
                    <td>{수입:서울_2025_2분기}</td>
                </tr>
                <tr>
                    <td class="indicator-name">고 용 률 (%p)</td>
                    <td>{고용률:서울_증감_2023_3분기}</td>
                    <td>{고용률:서울_증감_2023_4분기}</td>
                    <td>{고용률:서울_증감_2024_1분기}</td>
                    <td>{고용률:서울_증감_2024_2분기}</td>
                    <td>{고용률:서울_증감_2024_3분기}</td>
                    <td>{고용률:서울_증감_2024_4분기}</td>
                    <td>{고용률:서울_증감_2025_1분기}</td>
                    <td>{고용률:서울_증감_2025_2분기}</td>
                </tr>
                <tr>
                    <td class="indicator-name">실 업 률 (%p)</td>
                    <td>{실업률:서울_증감_2023_3분기}</td>
                    <td>{실업률:서울_증감_2023_4분기}</td>
                    <td>{실업률:서울_증감_2024_1분기}</td>
                    <td>{실업률:서울_증감_2024_2분기}</td>
                    <td>{실업률:서울_증감_2024_3분기}</td>
                    <td>{실업률:서울_증감_2024_4분기}</td>
                    <td>{실업률:서울_증감_2025_1분기}</td>
                    <td>{실업률:서울_증감_2025_2분기}</td>
                </tr>
                <tr>
                    <td class="indicator-name">소 비 자 물 가</td>
                    <td>{품목성질별 물가:서울_2023_3분기}</td>
                    <td>{품목성질별 물가:서울_2023_4분기}</td>
                    <td>{품목성질별 물가:서울_2024_1분기}</td>
                    <td>{품목성질별 물가:서울_2024_2분기}</td>
                    <td>{품목성질별 물가:서울_2024_3분기}</td>
                    <td>{품목성질별 물가:서울_2024_4분기}</td>
                    <td>{품목성질별 물가:서울_2025_1분기}</td>
                    <td>{품목성질별 물가:서울_2025_2분기}</td>
                </tr>
                <tr>
                    <td class="indicator-name">인구 순이동 (명)</td>
                    <td>{시도 간 이동:서울_2023_3분기}</td>
                    <td>{시도 간 이동:서울_2023_4분기}</td>
                    <td>{시도 간 이동:서울_2024_1분기}</td>
                    <td>{시도 간 이동:서울_2024_2분기}</td>
                    <td>{시도 간 이동:서울_2024_3분기}</td>
                    <td>{시도 간 이동:서울_2024_4분기}</td>
                    <td>{시도 간 이동:서울_2025_1분기}</td>
                    <td>{시도 간 이동:서울_2025_2분기}</td>
                </tr>
            </tbody>
        </table>
        
        <div class="footnote">
            * 광공업생산지수, 서비스업생산지수, 소매판매지수, 건설수주, 수출, 수입의 최근 수치는 잠정치임
        </div>
    </div>
    
    <script>
        // Chart.js 공통 설정
        const chartConfig = {
            responsive: true,
            maintainAspectRatio: false,
            animation: false,
            plugins: {
                legend: { display: false },
                tooltip: { enabled: false }
            },
            scales: {
                x: {
                    grid: { display: false },
                    ticks: { font: { size: 8 } }
                },
                y: {
                    grid: { color: '#e0e0e0' },
                    ticks: { font: { size: 8 } }
                }
            },
            elements: {
                line: { tension: 0 },
                point: { radius: 0 }
            }
        };
        
        // 차트 라벨 (8분기)
        const labels = ["'23.2/4", "'23.3/4", "'23.4/4", "'24.1/4", "'24.2/4", "'24.3/4", "'24.4/4", "'25.1/4", "'25.2/4"];
        
        // 데이터셋 생성 함수
        function createDatasets(nationwideData, seoulData, nationwideLabel, seoulLabel) {
            return [
                {
                    label: '전국',
                    data: nationwideData,
                    borderColor: '#999',
                    backgroundColor: '#999',
                    borderWidth: 1.5,
                    pointRadius: 0
                },
                {
                    label: '서울',
                    data: seoulData,
                    borderColor: '#1a56db',
                    backgroundColor: '#1a56db',
                    borderWidth: 2,
                    pointRadius: 0
                }
            ];
        }
        
        // 차트 생성 함수 (마지막 값 라벨 포함)
        function createChartWithLabels(ctx, datasets, yAxisConfig = {}) {
            const chart = new Chart(ctx, {
                type: 'line',
                data: { labels, datasets },
                options: {
                    ...chartConfig,
                    scales: {
                        ...chartConfig.scales,
                        y: { ...chartConfig.scales.y, ...yAxisConfig }
                    },
                    plugins: {
                        ...chartConfig.plugins,
                        annotation: {
                            annotations: {}
                        }
                    }
                },
                plugins: [{
                    id: 'lastValueLabels',
                    afterDraw: function(chart) {
                        const ctx = chart.ctx;
                        chart.data.datasets.forEach((dataset, i) => {
                            const meta = chart.getDatasetMeta(i);
                            const lastPoint = meta.data[meta.data.length - 1];
                            if (lastPoint) {
                                const value = dataset.data[dataset.data.length - 1];
                                if (value !== null && value !== undefined) {
                                    ctx.save();
                                    ctx.font = 'bold 9px Arial';
                                    ctx.fillStyle = dataset.borderColor;
                                    ctx.textAlign = 'left';
                                    ctx.fillText(value.toFixed(1), lastPoint.x + 5, lastPoint.y + 3);
                                    ctx.restore();
                                }
                            }
                        });
                    }
                }]
            });
            return chart;
        }
        
        // 차트 데이터 (마커로 대체될 값들)
        // 광공업생산
        const manufacturingNationwide = [{광공업생산:전국_chart_data}];
        const manufacturingSeoul = [{광공업생산:서울_chart_data}];
        
        // 서비스업생산
        const serviceNationwide = [{서비스업생산:전국_chart_data}];
        const serviceSeoul = [{서비스업생산:서울_chart_data}];
        
        // 소매판매
        const retailNationwide = [{소비(소매, 추가):전국_chart_data}];
        const retailSeoul = [{소비(소매, 추가):서울_chart_data}];
        
        // 수출
        const exportNationwide = [{수출:전국_chart_data}];
        const exportSeoul = [{수출:서울_chart_data}];
        
        // 고용률 (증감)
        const employmentNationwide = [{고용률:전국_증감_chart_data}];
        const employmentSeoul = [{고용률:서울_증감_chart_data}];
        
        // 소비자물가
        const cpiNationwide = [{품목성질별 물가:전국_chart_data}];
        const cpiSeoul = [{품목성질별 물가:서울_chart_data}];
        
        // 차트 생성
        createChartWithLabels(
            document.getElementById('chart-manufacturing'),
            createDatasets(manufacturingNationwide, manufacturingSeoul)
        );
        
        createChartWithLabels(
            document.getElementById('chart-service'),
            createDatasets(serviceNationwide, serviceSeoul)
        );
        
        createChartWithLabels(
            document.getElementById('chart-retail'),
            createDatasets(retailNationwide, retailSeoul)
        );
        
        createChartWithLabels(
            document.getElementById('chart-export'),
            createDatasets(exportNationwide, exportSeoul)
        );
        
        createChartWithLabels(
            document.getElementById('chart-employment'),
            createDatasets(employmentNationwide, employmentSeoul)
        );
        
        createChartWithLabels(
            document.getElementById('chart-cpi'),
            createDatasets(cpiNationwide, cpiSeoul)
        );
    </script>
</body>
</html>
