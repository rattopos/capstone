{
  "title": "소비동향 보도자료 스키마",
  "description": "소매판매액지수 및 증감률 보도자료 생성을 위한 데이터 스키마",
  
  "excel_mapping": {
    "source_file": "분석표_25년 2분기_캡스톤.xlsx",
    "analysis_sheet": "C 분석",
    "index_sheet": "C(소비)집계",
    
    "analysis_columns": {
      "reference": 0,
      "query": 1,
      "region_code": 2,
      "region_name": 3,
      "classification_level": 4,
      "weight": 5,
      "business_code": 6,
      "business_type": 7,
      "growth_2023_2Q": 12,
      "growth_2024_2Q": 16,
      "growth_2025_1Q": 19,
      "growth_2025_2Q": 20,
      "quarterly_change": 21,
      "contribution": 26,
      "rank": 27
    },
    
    "index_columns": {
      "region_name": 2,
      "index_2024_2Q": 21,
      "index_2025_2Q": 24
    }
  },
  
  "business_type_mapping": {
    "백화점": "백화점",
    "대형마트": "대형마트",
    "면세점": "면세점",
    "슈퍼마켓 및 잡화점": "슈퍼마켓·잡화점",
    "슈퍼마켓· 잡화점 및 편의점": "슈퍼마켓·잡화점·편의점",
    "편의점": "편의점",
    "승용차 및 연료 소매점": "승용차·연료소매점",
    "승용차 및 연료소매점": "승용차·연료소매점",
    "전문소매점": "전문소매점",
    "무점포 소매": "무점포소매"
  },
  
  "region_name_mapping": {
    "전국": "전 국",
    "서울": "서 울",
    "부산": "부 산",
    "대구": "대 구",
    "인천": "인 천",
    "광주": "광 주",
    "대전": "대 전",
    "울산": "울 산",
    "세종": "세 종",
    "경기": "경 기",
    "강원": "강 원",
    "충북": "충 북",
    "충남": "충 남",
    "전북": "전 북",
    "전남": "전 남",
    "경북": "경 북",
    "경남": "경 남",
    "제주": "제 주"
  },
  
  "region_groups": {
    "경인": ["서울", "인천", "경기"],
    "충청": ["대전", "세종", "충북", "충남"],
    "호남": ["광주", "전북", "전남", "제주"],
    "동북": ["대구", "경북", "강원"],
    "동남": ["부산", "울산", "경남"]
  },
  
  "text_generation_rules": {
    "nationwide_trend": {
      "increase": {
        "expression": "늘어",
        "result": "증가"
      },
      "decrease": {
        "expression": "줄어",
        "result": "감소"
      }
    },
    "regional_trend": {
      "when_decrease": {
        "increase_first": {
          "regions": "증가율이 큰 3개 시도",
          "expression": "증가하였으나"
        },
        "decrease_then": {
          "regions": "감소율이 큰 3개 시도",
          "expression": "줄어 감소"
        }
      }
    },
    "business_selection": {
      "increase_region": "양수 증감률 중 증감률이 큰 순서로 업태 선택",
      "decrease_region": "음수 증감률 중 증감률 절대값이 큰 순서로 업태 선택"
    }
  },
  
  "output_data_structure": {
    "report_info": {
      "title": "2. 소비 동향",
      "section": "Ⅰ. 부문별 지역경제동향",
      "page_number": 8,
      "base_year": 2020
    },
    
    "summary_box": {
      "type": "object",
      "properties": {
        "main_decrease_regions": {
          "type": "array",
          "items": {
            "region": "string",
            "main_business": "string"
          },
          "maxItems": 3
        },
        "region_count": "integer"
      }
    },
    
    "nationwide_data": {
      "type": "object",
      "properties": {
        "sales_index": "number",
        "growth_rate": "number",
        "main_businesses": {
          "type": "array",
          "items": {
            "name": "string",
            "growth_rate": "number"
          }
        }
      }
    },
    
    "regional_data": {
      "type": "object",
      "properties": {
        "increase_regions": {
          "type": "array",
          "items": {
            "region": "string",
            "growth_rate": "number",
            "top_businesses": ["object"]
          }
        },
        "decrease_regions": {
          "type": "array",
          "items": {
            "region": "string",
            "growth_rate": "number",
            "top_businesses": ["object"]
          }
        }
      }
    },
    
    "top3_increase_regions": {
      "type": "array",
      "items": {
        "region": "string",
        "growth_rate": "number",
        "businesses": {
          "type": "array",
          "items": {
            "name": "string",
            "growth_rate": "number"
          }
        }
      },
      "maxItems": 3
    },
    
    "top3_decrease_regions": {
      "type": "array",
      "items": {
        "region": "string",
        "growth_rate": "number",
        "businesses": {
          "type": "array",
          "items": {
            "name": "string",
            "growth_rate": "number"
          }
        }
      },
      "maxItems": 3
    },
    
    "summary_table": {
      "type": "object",
      "properties": {
        "base_year": "integer",
        "columns": {
          "growth_rate_columns": ["2023.2/4", "2024.2/4", "2025.1/4", "2025.2/4p"],
          "index_columns": ["2024.2/4", "2025.2/4p"]
        },
        "regions": {
          "type": "array",
          "items": {
            "group": "string or null",
            "rowspan": "integer or null",
            "region": "string",
            "growth_rates": ["number"],
            "indices": ["number"]
          }
        }
      }
    }
  }
}

